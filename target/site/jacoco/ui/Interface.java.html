<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Interface.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Asteroids</a> &gt; <a href="index.source.html" class="el_package">ui</a> &gt; <span class="el_source">Interface.java</span></div><h1>Interface.java</h1><pre class="source lang-java linenums">
package ui;

import javafx.application.Platform;
import javafx.stage.Stage;
import javafx.scene.Scene;
import javafx.scene.layout.Pane;
import javafx.scene.input.KeyEvent;
import javafx.scene.paint.Color;
import javafx.scene.text.Text;
import javafx.scene.text.Font;
import javafx.scene.shape.Shape;
import javafx.scene.shape.Polygon;
import javafx.event.EventHandler;

public class Interface{

    Stage stage;
    Scene scene;
    Pane pane;
    Text score;
    Text lives;
    Polygon lifeSymbol;
    boolean up,left,right,spacebar;

<span class="nc" id="L26">    public Interface(Stage stage, String title, int width, int height){</span>
<span class="nc" id="L27">        this.stage = stage;</span>
<span class="nc" id="L28">        this.pane = new Pane();</span>
<span class="nc" id="L29">        pane.setStyle(&quot;-fx-background-color: black;&quot;);</span>
<span class="nc" id="L30">        this.scene = new Scene(pane,640,480);</span>
        //DRAW SCORE
<span class="nc" id="L32">        score = new Text(20,30,String.valueOf(0)); //GAME SCORE AS TEXT</span>
<span class="nc" id="L33">        score.setFill(Color.WHITE);</span>
<span class="nc" id="L34">        score.setFont(Font.font(&quot;Tlwg Typo&quot;, 30.0));</span>
<span class="nc" id="L35">        pane.getChildren().add(score);       </span>
        //DRAW NUMBER OF LIVES
<span class="nc" id="L37">        lives = new Text(45.0,65.0,&quot;x&quot;);</span>
<span class="nc" id="L38">        lives.setFill(Color.WHITE);</span>
<span class="nc" id="L39">        lives.setFont(Font.font(&quot;Tlwg Typo&quot;, 20.0));</span>
<span class="nc" id="L40">        pane.getChildren().add(lives);</span>
        //DRAW LIVES SYMBOL
<span class="nc" id="L42">        Polygon lifeSymbol = new Polygon();</span>
<span class="nc" id="L43">        lifeSymbol.setFill(Color.TRANSPARENT);</span>
<span class="nc" id="L44">        lifeSymbol.setStroke(Color.WHITE);</span>
<span class="nc" id="L45">        lifeSymbol.setTranslateX(30.0);</span>
<span class="nc" id="L46">        lifeSymbol.setTranslateY(60.0);</span>
<span class="nc" id="L47">        lifeSymbol.getPoints().addAll(new Double[]{ //FORM OF SHIP SYMBOL</span>
<span class="nc" id="L48">            0.0, -12.0,</span>
<span class="nc" id="L49">            -8.0, 12.0,</span>
<span class="nc" id="L50">            0.0, 6.0,</span>
<span class="nc" id="L51">            8.0, 12.0</span>
        });
<span class="nc" id="L53">        pane.getChildren().add(lifeSymbol);</span>
        //SETUP        
<span class="nc" id="L55">        stage.setScene(scene);</span>
<span class="nc" id="L56">        stage.setTitle(title);</span>
<span class="nc" id="L57">        stage.setMinWidth(width);</span>
<span class="nc" id="L58">        stage.setMinHeight(height);</span>
<span class="nc" id="L59">        stage.setMaxWidth(width);</span>
<span class="nc" id="L60">        stage.setMaxHeight(height);</span>
<span class="nc" id="L61">        stage.setOnCloseRequest(e -&gt; Platform.exit());</span>
<span class="nc" id="L62">        stage.show();</span>
        //KEY INPUT - KEY PRESS
<span class="nc" id="L64">        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {</span>
            @Override
            public void handle(KeyEvent event) {
<span class="nc bnc" id="L67" title="All 5 branches missed.">                switch (event.getCode()) {</span>
<span class="nc" id="L68">                    case UP:    up = true; break;</span>
<span class="nc" id="L69">                    case LEFT:  left = true; break;</span>
<span class="nc" id="L70">                    case RIGHT: right = true; break;</span>
<span class="nc" id="L71">                    case SPACE: spacebar = true; break;</span>
                }
<span class="nc" id="L73">            }</span>
        });
        //KEY INPUT - RELEASE
<span class="nc" id="L76">        scene.setOnKeyReleased(new EventHandler&lt;KeyEvent&gt;() { </span>
            @Override
            public void handle(KeyEvent event) {
<span class="nc bnc" id="L79" title="All 5 branches missed.">                switch (event.getCode()) {</span>
<span class="nc" id="L80">                    case UP:    up = false; break;</span>
<span class="nc" id="L81">                    case LEFT:  left = false; break;</span>
<span class="nc" id="L82">                    case RIGHT: right = false; break;</span>
<span class="nc" id="L83">                    case SPACE: spacebar = false; break;</span>
                }
<span class="nc" id="L85">            }</span>
        });          
<span class="nc" id="L87">    }</span>

    void addShape(Shape shape){ //FOR DISPLAYING OBJECTS ON SCREEN
<span class="nc" id="L90">        this.pane.getChildren().add(shape);</span>
<span class="nc" id="L91">    }</span>

    void removeShape(Shape shape){ //FOR REMOVING OBJECTS FROM SCREEN
<span class="nc" id="L94">        this.pane.getChildren().remove(shape);</span>
<span class="nc" id="L95">    }</span>
    
    void setScore(int score){ //UPDATE SCORE SHOWN ON SCREEN
<span class="nc" id="L98">            this.score.setText(String.valueOf(score));</span>
<span class="nc" id="L99">    }</span>

    void setLives(int lives){ //UPDATE NUMBER OF LIVES SHOWN ON SCREEN
<span class="nc" id="L102">        this.lives.setText(&quot;x&quot; + String.valueOf(lives));</span>
<span class="nc" id="L103">    }</span>

    void gameOver(){ //TRIGGER GAME OVER MESSAGE
<span class="nc" id="L106">        Text gm = new Text(180.0,240.0,&quot;GAME OVER&quot;);</span>
<span class="nc" id="L107">        gm.setFill(Color.WHITE);</span>
<span class="nc" id="L108">        gm.setFont(Font.font(&quot;Tlwg Typo&quot;, 50.0));</span>
<span class="nc" id="L109">        this.pane.getChildren().add(gm);        </span>
<span class="nc" id="L110">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>